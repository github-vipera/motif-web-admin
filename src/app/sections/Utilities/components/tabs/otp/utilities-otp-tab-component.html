<div>

    <div class="row spread">
        <div class="flex-toolbar" style="display:flex;align-items: center;">
            
            <div style="margin-right:10px;width:60%;max-width: 400px;min-width: 250px;">
                <label>Domain</label>
                <wc-domain-selector-combobox #domainSelector [(ngModel)]="dataSource.domain"></wc-domain-selector-combobox>
            </div>

            <div style="margin-left: 40px;margin-right:10px;width:60%;max-width: 400px;min-width: 250px;">
                <label>Application</label>
                <wc-application-selector-combobox #applicationSelector [domain]="(dataSource.domain ? dataSource.domain.name : null)"
                [(ngModel)]="dataSource.application"
                ></wc-application-selector-combobox>
            </div>
            
            <div style="margin-left: 40px;margin-right:10px;width:60%;max-width: 400px;min-width: 250px;">
                <label>User</label>
                <wc-user-selector-combobox #userSelector [domain]="(dataSource.domain ? dataSource.domain.name : null)"
                [(ngModel)]="dataSource.user"
                ></wc-user-selector-combobox>
            </div>

            <kendo-buttongroup look="flat">
                <button kendoButton [toggleable]="false" (click)="onSendClicked()" style="margin-top: 20%;">
                        <fa-icon [icon]="faArrowAltCircleRight" class="left-icon-button"></fa-icon>Send
                </button>
            </kendo-buttongroup>
        </div>

        <div class="flex-cmd">
            <kendo-buttongroup look="flat">
                <button kendoButton [toggleable]="false" [icon]="'refresh'" (click)="onRefreshClicked()">Refresh</button>
            </kendo-buttongroup>
        </div>

    </div>

    <div class="row fill">
        <div>
            
            <kendo-grid [data]="dataSource.data" [scrollable]="true" [resizable]="true"
                [reorderable]="true" 
            >
        
                <kendo-grid-column field="clientIp" title="Client IP" width="160">
                </kendo-grid-column>
        
                <kendo-grid-column field="user" title="User" width="160">
                </kendo-grid-column>
        
                <kendo-grid-column field="secure" title="Secure" width="40">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <label class="k-icon grid-cell-checkbox grid-cell-checkbox-{{dataItem.secure}}"></label>
                    </ng-template>
                </kendo-grid-column>
        
                <kendo-grid-column field="shared" title="Shared" width="40">
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <label class="k-icon grid-cell-checkbox grid-cell-checkbox-{{dataItem.shared}}"></label>
                    </ng-template>
                </kendo-grid-column>
        
                <kendo-grid-column field="domain" title="Domain">
                </kendo-grid-column>
        
                <kendo-grid-column field="application" title="Application">
                </kendo-grid-column>
        
                <kendo-grid-column field="service" title="Service">
                </kendo-grid-column>
        
                <kendo-grid-column field="channel" title="Channel">
                </kendo-grid-column>
        
                <kendo-grid-column field="lastAccess" title="Last Access" format="{0:dd/MM/yyyy HH:mm:ss}">
                </kendo-grid-column>
        
                <kendo-grid-column field="lastRequestID" title="Last Request ID">
                </kendo-grid-column>
        
                <kendo-grid-column field="expiry" title="Expiry">
                </kendo-grid-column>
        
        
                <kendo-grid-column title="" width="150" minResizableWidth="100">
                    <ng-template kendoGridCellTemplate let-dataItem let-columnIndex="columnIndex" let-rowIndex="rowIndex"
                        let-column="column">
                        <wc-grid-editor [question]="'Close ?'" [rowIndex]="rowIndex" [columnIndex]="columnIndex" [column]="column"
                            [value]="dataItem[column.field]" [dataItem]="dataItem" [buttonClass]="''" [mainClass]="'wc-table-delete-command'"
                            (onConfirmation)="onDeleteOKPressed(dataItem)">
                            <svg data-id="no">
                                <use xlink:href="assets/img/icons.svg#ico-no"></use>
                            </svg>
                        </wc-grid-editor>
                    </ng-template>
                </kendo-grid-column>
        
            </kendo-grid>            

        </div>
    </div>


</div>